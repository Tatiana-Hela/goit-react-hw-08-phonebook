"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[867],{2867:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(9434),a=function(e){return e.contacts.items},o=function(e){return e.contacts.loading},i=function(e){return e.contacts.error},s=t(2791),c=t(1650),l=t(9439),x=t(1686),d=t.n(x),u=t(2701),p=t(4585),h=t(311),m=t(7806),f=t(4363),b=t(7886),j=t(4224),g=t(8656),y=t(6856),v=t(9126),w=t(184),C=function(){var e=(0,s.useState)(""),n=(0,l.Z)(e,2),t=n[0],a=n[1],o=(0,s.useState)(""),i=(0,l.Z)(o,2),x=i[0],C=i[1],S=(0,r.I0)(),Z=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":a(r);break;case"number":C(r);break;default:throw new Error("There isn't such option")}};return(0,w.jsx)("form",{onSubmit:function(e){e.preventDefault(),S((0,c.uK)({name:t,number:x})).unwrap().then((function(){d().Notify.success("Contact added!")})).catch((function(){d().Notify.failure("Something went wrong...Try reloading the page")})),a(""),C("")},children:(0,w.jsxs)(u.NI,{width:"350px",children:[(0,w.jsx)(p.l,{htmlFor:"name",children:"Name"}),(0,w.jsxs)(h.B,{children:[(0,w.jsx)(m.Z,{pointerEvents:"none",children:(0,w.jsx)(f.J,{as:v.HHm,color:"grey"})}),(0,w.jsx)(b.I,{id:"name",type:"text",name:"name",value:t,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:Z,required:!0})]}),(0,w.jsx)(p.l,{htmlFor:"number",mt:"15px",children:"Number"}),(0,w.jsxs)(h.B,{children:[(0,w.jsx)(m.Z,{pointerEvents:"none",children:(0,w.jsx)(g.q,{color:"gray"})}),(0,w.jsx)(b.I,{id:"number",type:"tel",name:"number",value:x,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:Z,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,w.jsxs)(j.z,{type:"submit",colorScheme:"blue",mt:"20px",borderRadius:"6px",children:["Add ",(0,w.jsx)(f.J,{as:y.NcC,width:"24px",height:"24px",pl:"6px"})]})]})})},S=t(6916),Z=function(e){return e.filter},z=(0,S.P1)([Z,a],(function(e,n){var t=e.trim().toLowerCase();return n.filter((function(e){return e.name.trim().toLowerCase().includes(t)}))})),N=t(9229),k=t(3541),E=t(114),F=t(1243),A=t(4087),I=t(7885),B=t(4942),T=t(1413),D=t(1820),q=t(3380),H=t(8789),J=t(7693),R=t(1461),W=t(7521),_=function(e){var n=e.isOpen,t=e.handleClose,a=e.id,o={name:e.name,number:e.number},i=(0,s.useState)((0,T.Z)({},o)),x=(0,l.Z)(i,2),y=x[0],C=x[1],S=(0,r.I0)(),Z=(0,s.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;C((function(e){return(0,T.Z)((0,T.Z)({},e),{},(0,B.Z)({},t,r))}))}),[C]);return(0,w.jsxs)(D.u_,{isOpen:n,onClose:t,children:[(0,w.jsx)(q.Z,{}),(0,w.jsxs)(H.h,{children:[(0,w.jsx)(J.x,{textAlign:"center",fontSize:"22px",fontWeight:"500",children:"Edit contact"}),(0,w.jsx)(R.o,{}),(0,w.jsx)(W.f,{pb:6,children:(0,w.jsx)("form",{onSubmit:function(e){e.preventDefault(),S((0,c.Tk)({id:a,state:y})).unwrap().then((function(){return d().Notify.success("Contact edited")})).catch((function(){return d().Notify.failure("Something went wrong...Try reloading the page")})),t()},children:(0,w.jsxs)(u.NI,{children:[(0,w.jsx)(p.l,{htmlFor:"name",children:"Name"}),(0,w.jsxs)(h.B,{children:[(0,w.jsx)(m.Z,{pointerEvents:"none",children:(0,w.jsx)(f.J,{as:v.HHm,color:"grey"})}),(0,w.jsx)(b.I,{id:"name",type:"text",name:"name",value:y.name,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:Z})]}),(0,w.jsx)(p.l,{htmlFor:"number",mt:"15px",children:"Number"}),(0,w.jsxs)(h.B,{children:[(0,w.jsx)(m.Z,{pointerEvents:"none",children:(0,w.jsx)(g.q,{color:"gray"})}),(0,w.jsx)(b.I,{id:"number",type:"tel",name:"number",value:y.number,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:Z})]}),(0,w.jsx)(j.z,{type:"submit",colorScheme:"blue",mr:3,mt:"20px",children:"Save"}),(0,w.jsx)(j.z,{onClick:t,mt:"20px",children:"Cancel"})]})})})]})]})},O=function(e){var n=e.id,t=e.name,a=e.number,o=(0,s.useState)(!1),i=(0,l.Z)(o,2),x=i[0],u=i[1],p=(0,r.I0)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(k.HC,{display:"flex",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",p:"6px 10px",borderRadius:"6px",bg:"#F4F4F4",alignItems:"center",children:[(0,w.jsxs)(A.xu,{display:"block",children:[(0,w.jsx)(N.x,{fontSize:"20px",fontWeight:"500",children:t}),(0,w.jsx)(N.x,{fontSize:"18px",color:"#5F5F5F",children:a})]}),(0,w.jsx)(I.h,{ml:"auto",colorScheme:"green","aria-label":"Edit contact",icon:(0,w.jsx)(E.d,{}),onClick:function(){return u(!0)}}),(0,w.jsx)(I.h,{ml:"6px",colorScheme:"red","aria-label":"Delete contact",icon:(0,w.jsx)(F.p,{}),type:"button",onClick:function(){p((0,c.GK)(n)).unwrap().then((function(){return d().Notify.success("Contact deleted")})).catch((function(){return d().Notify.failure("Something went wrong...Try reloading the page")}))}})]},n),x&&(0,w.jsx)(_,{isOpen:x,handleClose:function(){return u(!1)},id:n,name:t,number:a})]})},P=function(){var e=(0,r.v9)(z);return(0,w.jsxs)(w.Fragment,{children:[0===e.length&&(0,w.jsx)(N.x,{color:"red.400",mt:"20px",ml:"20px",children:"There is no such contact"}),(0,w.jsx)(k.aV,{mt:"20px",display:"flex",flexDirection:"column",gap:"5px",children:e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,w.jsx)(O,{id:n,name:t,number:r},n)}))})]})},K=t(5653),L=t(745),M=function(){var e=(0,r.v9)(Z),n=(0,r.I0)();return(0,w.jsx)(u.NI,{width:"350px",m:"0 auto",children:(0,w.jsxs)(h.B,{children:[(0,w.jsx)(m.x,{pointerEvents:"none",children:(0,w.jsx)(L.W,{color:"gray"})}),(0,w.jsx)(b.I,{type:"text",placeholder:"Find contacts by name",value:e,onChange:function(e){return n((0,K.T)(e.target.value))}})]})})},$=t(6564),G=function(){var e=(0,r.v9)(a),n=(0,r.v9)(o),t=(0,r.v9)(i),l=(0,r.I0)();(0,s.useEffect)((function(){l((0,c.yF)())}),[l]);var x=Boolean(e.length);return(0,w.jsxs)(A.xu,{display:"flex",justifyContent:"center",gap:"100px",m:"0 auto",p:"60px 0 60px 60px",children:[(0,w.jsxs)(A.xu,{width:"400px",height:"320px",display:"flex",flexDirection:"column",alignItems:"center",p:"6",borderRadius:"6px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",border:"1px solid #EBEBEB",children:[(0,w.jsx)(N.x,{fontSize:"24px",fontWeight:"500",mb:"20px",children:"Add contacts"}),(0,w.jsx)(C,{})]}),n&&(0,w.jsx)($.Z,{color:"#007D34",cssOverride:{position:"absolute",display:"block"},size:100}),(0,w.jsxs)(A.xu,{width:"500px",display:"flex",flexDirection:"column",children:[(0,w.jsx)(N.x,{p:"6px",width:"220px",borderRadius:"6px",textAlign:"center",fontSize:"22",m:"0 auto",mb:"10px",fontWeight:"500",color:"#fff",bg:"blue.400",children:"Contact list"}),x&&(0,w.jsx)(M,{}),x&&(0,w.jsx)(P,{}),!x&&(0,w.jsxs)(N.x,{color:"#fff",bg:"red.400",p:"12px",width:"400px",textAlign:"center",borderRadius:"6px",m:"0 auto",children:["Your phonebook is empty. ",(0,w.jsx)("br",{})," Please add contact."]})]}),t&&d().Notify.failure("Something went wrong...Try reloading the page")]})}}}]);
//# sourceMappingURL=867.1da25e2a.chunk.js.map