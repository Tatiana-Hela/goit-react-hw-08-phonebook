"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[867],{2867:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(9434),a=function(e){return e.contacts.items},s=function(e){return e.contacts.loading},o=t(2791),i=t(1650),c=t(9439),l=t(1295),d=t(2701),x=t(4585),u=t(311),p=t(7806),h=t(4363),m=t(6069),b=t(4224),j=t(8656),f=t(6856),g=t(9126),v=t(184),w=function(){var e=(0,l.p)(),n=(0,o.useState)(""),t=(0,c.Z)(n,2),a=t[0],s=t[1],w=(0,o.useState)(""),y=(0,c.Z)(w,2),C=y[0],S=y[1],Z=(0,r.I0)(),k=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":s(r);break;case"number":S(r);break;default:throw new Error("There isn't such option")}};return(0,v.jsx)("form",{onSubmit:function(n){n.preventDefault(),Z((0,i.uK)({name:a,number:C})).unwrap().then((function(){e({description:"Contact added",position:"top",status:"success"})})).catch((function(){e({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})})),s(""),S("")},children:(0,v.jsxs)(d.NI,{width:{base:"100%",sm:"350px"},children:[(0,v.jsx)(x.l,{htmlFor:"name",children:"Name"}),(0,v.jsxs)(u.B,{children:[(0,v.jsx)(p.Z,{pointerEvents:"none",children:(0,v.jsx)(h.J,{as:g.HHm,color:"grey"})}),(0,v.jsx)(m.I,{id:"name",type:"text",name:"name",value:a,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:k,required:!0})]}),(0,v.jsx)(x.l,{htmlFor:"number",mt:{base:"15px",sm:"0"},children:"Number"}),(0,v.jsxs)(u.B,{children:[(0,v.jsx)(p.Z,{pointerEvents:"none",children:(0,v.jsx)(j.q,{color:"gray"})}),(0,v.jsx)(m.I,{id:"number",type:"tel",name:"number",value:C,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:k,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,v.jsxs)(b.z,{type:"submit",colorScheme:"blue",mt:"20px",borderRadius:"6px",ml:{sm:"10px"},children:["Add ",(0,v.jsx)(h.J,{as:f.NcC,width:"24px",height:"24px",pl:"6px"})]})]})})},y=t(6916),C=function(e){return e.filter},S=(0,y.P1)([C,a],(function(e,n){var t=e.trim().toLowerCase();return n.filter((function(e){return e.name.trim().toLowerCase().includes(t)}))})),Z=t(9229),k=t(3541),z=t(114),E=t(1243),F=t(4087),A=t(7449),I=t(7885),B=t(4942),N=t(1413),T=t(1820),q=t(3380),D=t(8789),W=t(7693),H=t(1461),J=t(7521),R=function(e){var n=e.isOpen,t=e.handleClose,a=e.id,s=e.name,f=e.number,w=(0,l.p)(),y={name:s,number:f},C=(0,o.useState)((0,N.Z)({},y)),S=(0,c.Z)(C,2),Z=S[0],k=S[1],z=(0,r.I0)(),E=(0,o.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;k((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,B.Z)({},t,r))}))}),[k]);return(0,v.jsxs)(T.u_,{isOpen:n,onClose:t,children:[(0,v.jsx)(q.Z,{}),(0,v.jsxs)(D.h,{children:[(0,v.jsx)(W.x,{textAlign:"center",fontSize:"22px",fontWeight:"500",children:"Edit contact"}),(0,v.jsx)(H.o,{}),(0,v.jsx)(J.f,{pb:6,children:(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),z((0,i.Tk)({id:a,state:Z})).unwrap().then((function(){return w({description:"Contact edited",position:"top",status:"success"})})).catch((function(){return w({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})})),t()},children:(0,v.jsxs)(d.NI,{children:[(0,v.jsx)(x.l,{htmlFor:"name",children:"Name"}),(0,v.jsxs)(u.B,{children:[(0,v.jsx)(p.Z,{pointerEvents:"none",children:(0,v.jsx)(h.J,{as:g.HHm,color:"grey"})}),(0,v.jsx)(m.I,{id:"name",type:"text",name:"name",value:Z.name,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:E})]}),(0,v.jsx)(x.l,{htmlFor:"number",mt:"15px",children:"Number"}),(0,v.jsxs)(u.B,{children:[(0,v.jsx)(p.Z,{pointerEvents:"none",children:(0,v.jsx)(j.q,{color:"gray"})}),(0,v.jsx)(m.I,{id:"number",type:"tel",name:"number",value:Z.number,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:E})]}),(0,v.jsx)(b.z,{type:"submit",colorScheme:"blue",mr:3,mt:"20px",children:"Save"}),(0,v.jsx)(b.z,{onClick:t,mt:"20px",children:"Cancel"})]})})})]})]})},_=function(e){var n=e.id,t=e.name,a=e.number,s=(0,l.p)(),d=(0,o.useState)(!1),x=(0,c.Z)(d,2),u=x[0],p=x[1],h=(0,r.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(k.HC,{display:"flex",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",p:"6px 10px",borderRadius:"6px",bg:"#F4F4F4",alignItems:"center",children:[(0,v.jsxs)(F.xu,{display:"block",children:[(0,v.jsx)(Z.x,{fontSize:"20px",fontWeight:"500",color:"#2a2a2a",children:t}),(0,v.jsx)(Z.x,{fontSize:"18px",color:"#5F5F5F",children:a})]}),(0,v.jsx)(A.u,{label:"Edit contact",children:(0,v.jsx)(I.h,{ml:"auto",colorScheme:"green","aria-label":"Edit contact",icon:(0,v.jsx)(z.d,{}),onClick:function(){return p(!0)}})}),(0,v.jsx)(A.u,{label:"Delete contact",children:(0,v.jsx)(I.h,{ml:"6px",colorScheme:"red","aria-label":"Delete contact",icon:(0,v.jsx)(E.p,{}),type:"button",onClick:function(){h((0,i.GK)(n)).unwrap().then((function(){return s({description:"Contact deleted",position:"top",status:"success"})})).catch((function(){return s({description:"Something went wrong...Try reloading the page",position:"top",status:"error"})}))}})})]},n),u&&(0,v.jsx)(R,{isOpen:u,handleClose:function(){return p(!1)},id:n,name:t,number:a})]})},P=function(){var e=(0,r.v9)(S);return(0,v.jsxs)(v.Fragment,{children:[0===e.length&&(0,v.jsx)(Z.x,{color:"red.400",mt:"20px",ml:"20px",children:"There is no such contact"}),(0,v.jsx)(k.aV,{mt:"20px",display:"flex",flexDirection:"column",gap:"5px",children:e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,v.jsx)(_,{id:n,name:t,number:r},n)}))})]})},O=t(5653),K=t(745),L=function(){var e=(0,r.v9)(C),n=(0,r.I0)();return(0,v.jsx)(d.NI,{width:"350px",m:"0 auto",children:(0,v.jsxs)(u.B,{children:[(0,v.jsx)(p.x,{pointerEvents:"none",children:(0,v.jsx)(K.W,{color:"gray"})}),(0,v.jsx)(m.I,{type:"text",placeholder:"Find contacts by name",value:e,onChange:function(e){return n((0,O.T)(e.target.value))}})]})})},M=t(176),$=t(1213),G=t(6564),V=function(){var e=(0,r.v9)(a),n=(0,r.v9)(s),t=(0,r.I0)();(0,o.useEffect)((function(){t((0,i.yF)())}),[t]);var c=Boolean(e.length);return(0,v.jsxs)(M.k,{direction:{base:"column",md:"row"},align:{base:"center",md:"stretch"},justify:"space-between",m:"0 auto",maxW:{base:"90%",lg:"1200px"},px:{base:"2",md:"0"},py:"12",children:[(0,v.jsxs)($.g,{w:{base:"100%",md:"400px"},h:{base:"auto",md:"320px"},spacing:"6",p:"6",borderRadius:"6px",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.2);",border:"1px solid #EBEBEB",children:[(0,v.jsx)(Z.x,{fontSize:"24px",fontWeight:"500",children:"Add contacts"}),(0,v.jsx)(w,{})]}),(0,v.jsxs)(F.xu,{w:{base:"100%",md:"500px"},mt:{base:"6",md:"0"},ml:{base:"0",md:"12"},children:[(0,v.jsx)(Z.x,{p:"6px",borderRadius:"6px",textAlign:"center",fontSize:"22",mb:"10px",fontWeight:"500",color:"#fff",bg:"blue.400",children:"Contact list"}),n&&(0,v.jsx)(M.k,{justify:"center",children:(0,v.jsx)(G.Z,{color:"#007D34",size:100})}),!n&&(0,v.jsxs)(F.xu,{children:[c&&(0,v.jsx)(L,{}),c&&(0,v.jsx)(P,{}),!c&&(0,v.jsxs)(Z.x,{color:"#fff",bg:"red.400",p:"12px",borderRadius:"6px",textAlign:"center",children:["Your phonebook is empty. ",(0,v.jsx)("br",{})," Please add contact."]})]})]})]})}}}]);
//# sourceMappingURL=867.42df4331.chunk.js.map